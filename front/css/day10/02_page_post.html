<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>게시글 등록</title>
    <script src="../static/js/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        /* *{margin: 0; padding: 0;} */
        /* form{margin: 10px;} */
        .btn{
            width: 100%;display: block;box-sizing: border-box;border: 1px solid; line-height: 24px; border-radius: 5px;
        }
        /* .table{ border-collapse: collapse; width: 100%;} */
        .table th, .table tr, .table td{
            text-align: center;
        }

    </style>
  </head>
  <body>

    <div class="container">
        <h2>게시글 등록</h2>
        <form action="/action_page.php" class="was-validated">
          <div class="form-group">
            <label for="title">제목 :</label>
            <input type="text" class="form-control" id="title" placeholder="제목을 입력하세요." name="title" required>
          </div>
          <div class="form-group">
            <label for="writer">작성자:</label>
            <input type="text" class="form-control" id="writer" placeholder="작성자를 입력하세요." name="writer" required>
          </div>
          <div class="form-group">
            <label for="comment">내용:</label>
            <textarea class="form-control" rows="10" id="comment" placeholder="내용을 입력하세요." required></textarea>
          </div>
          <button type="" class="btn btn-primary" id="register">등록</button>
        </form>
      </div>

    <hr>
    
    <div class="list container">

        <h2>게시글 리스트</h2>
        <table class="table table-hover">
            <thead>
              <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>조회수</th>
              </tr>
            </thead>
            <tbody id="list">
                <tr id="none-list"><th colspan="4">게시글이 없습니다.</th></tr>
            </tbody>
          </table>

    </div>


    <script>
        var count = 0
        $('#register').click(function(e){
            e.preventDefault();
            var title = $('#title').val()
            var writer = $('#writer').val()
            var comment = $('#comment').val() //미사용
            
            $('#title').val('')
            $('#writer').val('')
            $('#comment').val('')
            $('#none-list').remove()
            $('#list').prepend(`
            <tr id="listTo${++count}">
                <td>${count}</td>
                <td>${title}</td>
                <td>${writer}</td>
                <td id="views${count}">0</td>
            </tr>`)
            var post = new Post(count, title, writer, comment)
            console.log(post)
            console.log('디버깅용 : 작동중이에용' + count)
        })

        class Post{
            constructor(num, title, writer, content){
                this.num = num;
                this.title = title;
                this.writer = writer;
                this.content = content;
                this.views = 0;
            }
        }
        
    </script>
  </body>
</html>
